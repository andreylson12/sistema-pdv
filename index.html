<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login - Sistema de PDV</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f0f0f0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            color: #333;
        }

        .login-container {
            max-width: 400px;
            width: 100%;
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            padding: 20px;
            box-sizing: border-box;
        }

        h1 {
            text-align: center;
            color: #007BFF;
            margin-bottom: 20px;
        }

        h2 {
            text-align: center;
            color: #007BFF;
            margin-bottom: 20px;
        }

        .form-group {
            margin-bottom: 15px;
        }

        label {
            margin-bottom: 5px;
            display: block;
            font-weight: bold;
        }

        input, textarea {
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            width: 100%;
            box-sizing: border-box;
        }

        button {
            padding: 10px 20px;
            background-color: #28a745;
            color: #fff;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            width: 100%;
            margin-top: 10px;
        }

        button:hover {
            background-color: #218838;
        }

        .error-message {
            color: red;
            text-align: center;
            margin-top: 10px;
        }

        .hidden {
            display: none;
        }

        .container {
            max-width: 1200px;
            margin: 20px auto;
            padding: 20px;
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .tabs {
            display: flex;
            justify-content: space-around;
            margin-bottom: 20px;
        }

        .tab-button {
            padding: 10px 20px;
            background-color: #007BFF;
            color: #fff;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            margin: 0 5px;
        }

        .tab-button:hover {
            background-color: #0056b3;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .table-container {
            margin-bottom: 20px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
        }

        table th, table td {
            padding: 10px;
            border: 1px solid #ddd;
            text-align: left;
        }

        table th {
            background-color: #f4f4f4;
        }

        .file-input {
            margin-top: 20px;
        }

        .btn-secondary {
            background-color: #6c757d;
            color: #fff;
        }

        .btn-secondary:hover {
            background-color: #5a6268;
        }

        .receipt {
            display: none;
            padding: 20px;
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .receipt-content h1 {
            text-align: center;
            color: #007BFF;
        }

        .receipt-content table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
        }

        .receipt-content th, .receipt-content td {
            padding: 10px;
            border: 1px solid #ddd;
            text-align: left;
        }

        .receipt-content th {
            background-color: #f4f4f4;
        }

        .total {
            font-size: 18px;
            font-weight: bold;
            text-align: right;
        }
    </style>
</head>
<body>
    <div id="loginContainer" class="login-container">
        <h1>Sistema de PDV</h1>
        <h2>Login</h2>
        <div class="form-group">
            <label for="username">Usuário:</label>
            <input type="text" id="username" required>
        </div>
        <div class="form-group">
            <label for="password">Senha:</label>
            <input type="password" id="password" required>
        </div>
        <button onclick="login()">Entrar</button>
        <div id="errorMessage" class="error-message hidden">Usuário ou senha incorretos</div>
    </div>

    <div id="mainContainer" class="hidden">
        <!-- Aqui começa o sistema principal -->
        <div class="container">
            <h1>Sistema de PDV - Supermercado</h1>

            <div class="tabs">
                <button class="tab-button" onclick="openTab('cadastroItens')">Cadastro de Itens</button>
                <button class="tab-button" onclick="openTab('estoque')">Estoque</button>
                <button class="tab-button" onclick="openTab('pdv')">PDV</button>
                <button class="tab-button" onclick="openTab('vendas')">Vendas</button>
                <button class="tab-button" onclick="openTab('enviarPedidos')">Enviar Pedidos</button>
            </div>

            <div id="cadastroItens" class="tab-content">
                <h2>Cadastro de Itens</h2>
                <div class="form-group">
                    <label for="itemCode">Código do Produto:</label>
                    <input type="text" id="itemCode" required>

                    <label for="item">Item:</label>
                    <input type="text" id="item" required>

                    <label for="quantity">Quantidade:</label>
                    <input type="number" id="quantity" required>

                    <label for="price">Preço:</label>
                    <input type="number" step="0.01" id="price" required>

                    <button onclick="addItem()">Adicionar Item</button>
                </div>
            </div>

            <div id="estoque" class="tab-content">
                <h2>Estoque</h2>
                <div class="table-container">
                    <table id="itemsTable">
                        <tr>
                            <th>Código do Produto</th>
                            <th>Item</th>
                            <th>Quantidade</th>
                            <th>Preço</th>
                        </tr>
                    </table>
                </div>
                <div class="file-input">
                    <button class="btn-secondary" onclick="exportToExcel()">Exportar para Excel</button>
                    <input type="file" id="fileInput" onchange="importFromExcel(event)">
                </div>
            </div>

            <div id="pdv" class="tab-content">
                <h2>PDV - Ponto de Venda</h2>
                <div class="form-group">
                    <label for="pdvItemCode">Código do Produto:</label>
                    <input type="text" id="pdvItemCode" required>

                    <label for="pdvQuantity">Quantidade:</label>
                    <input type="number" id="pdvQuantity" required>

                    <label for="pdvPrice">Preço:</label>
                    <input type="number" step="0.01" id="pdvPrice" required>

                    <button onclick="addToSale()">Adicionar à Venda</button>
                </div>

                <div class="form-group">
                    <label for="amountReceived">Total Recebido:</label>
                    <input type="number" step="0.01" id="amountReceived" oninput="updateTroco()" required>

                    <label for="change">Troco:</label>
                    <input type="number" step="0.01" id="change" readonly>
                </div>

                <h2>Resumo da Venda</h2>
                <div class="table-container">
                    <table id="saleTable">
                        <tr>
                            <th>Código do Produto</th>
                            <th>Item</th>
                            <th>Quantidade</th>
                            <th>Preço</th>
                            <th>Total</th>
                        </tr>
                    </table>
                </div>

                <div class="summary">
                    <h3>Total da Venda: R$ <span id="saleTotal">0.00</span></h3>
                    <button onclick="printReceipt()">Imprimir Comprovante</button>
                </div>
            </div>

            <div id="vendas" class="tab-content">
                <h2>Vendas</h2>
                <div class="table-container">
                    <table id="salesTable">
                        <tr>
                            <th>ID</th>
                            <th>Data</th>
                            <th>Valor Total</th>
                        </tr>
                    </table>
                </div>
            </div>

            <div id="enviarPedidos" class="tab-content">
                <h2>Enviar Pedidos</h2>
                <div class="form-group">
                    <label for="orderDetails">Detalhes do Pedido:</label>
                    <textarea id="orderDetails" rows="5" required></textarea>

                    <button onclick="sendOrder()">Enviar Pedido</button>
                </div>
            </div>

            <div id="receipt" class="receipt">
                <div class="receipt-content">
                    <h1>Comprovante de Venda</h1>
                    <table id="receiptTable">
                        <tr>
                            <th>Código do Produto</th>
                            <th>Item</th>
                            <th>Quantidade</th>
                            <th>Preço</th>
                            <th>Total</th>
                        </tr>
                    </table>
                    <p class="total">Total da Venda: R$ <span id="receiptTotal">0.00</span></p>
                </div>
            </div>
        </div>
    </div>

    <script>
        function login() {
            var username = document.getElementById('username').value;
            var password = document.getElementById('password').value;

            if (username === 'admin' && password === 'admin') {
                document.getElementById('loginContainer').classList.add('hidden');
                document.getElementById('mainContainer').classList.remove('hidden');
            } else {
                document.getElementById('errorMessage').classList.remove('hidden');
            }
        }

        function openTab(tabId) {
            var tabs = document.getElementsByClassName('tab-content');
            for (var i = 0; i < tabs.length; i++) {
                tabs[i].classList.remove('active');
            }
            document.getElementById(tabId).classList.add('active');
        }

        function addItem() {
            var itemCode = document.getElementById('itemCode').value;
            var item = document.getElementById('item').value;
            var quantity = document.getElementById('quantity').value;
            var price = document.getElementById('price').value;

            var table = document.getElementById('itemsTable');
            var row = table.insertRow();
            row.insertCell(0).innerHTML = itemCode;
            row.insertCell(1).innerHTML = item;
            row.insertCell(2).innerHTML = quantity;
            row.insertCell(3).innerHTML = price;

            // Clear the form
            document.getElementById('itemCode').value = '';
            document.getElementById('item').value = '';
            document.getElementById('quantity').value = '';
            document.getElementById('price').value = '';
        }

        function addToSale() {
            var itemCode = document.getElementById('pdvItemCode').value;
            var quantity = document.getElementById('pdvQuantity').value;
            var price = document.getElementById('pdvPrice').value;

            var table = document.getElementById('saleTable');
            var row = table.insertRow();
            row.insertCell(0).innerHTML = itemCode;
            row.insertCell(1).innerHTML = 'Item'; // Aqui você pode adicionar lógica para obter o nome do item
            row.insertCell(2).innerHTML = quantity;
            row.insertCell(3).innerHTML = price;
            row.insertCell(4).innerHTML = (quantity * price).toFixed(2);

            updateTotalSale();

            // Clear the form
            document.getElementById('pdvItemCode').value = '';
            document.getElementById('pdvQuantity').value = '';
            document.getElementById('pdvPrice').value = '';
        }

        function updateTotalSale() {
            var table = document.getElementById('saleTable');
            var total = 0;
            for (var i = 1; i < table.rows.length; i++) {
                var row = table.rows[i];
                var itemTotal = parseFloat(row.cells[4].innerText);
                total += itemTotal;
            }
            document.getElementById('saleTotal').innerText = total.toFixed(2);
        }

        function updateTroco() {
            var total = parseFloat(document.getElementById('saleTotal').innerText);
            var received = parseFloat(document.getElementById('amountReceived').value);
            var change = received - total;
            document.getElementById('change').value = change.toFixed(2);
        }

        function printReceipt() {
            var table = document.getElementById('saleTable');
            var receiptTable = document.getElementById('receiptTable');
            var receiptTotal = 0;
            while (receiptTable.rows.length > 1) {
                receiptTable.deleteRow(1);
            }

            for (var i = 1; i < table.rows.length; i++) {
                var row = table.rows[i];
                var newRow = receiptTable.insertRow();
                for (var j = 0; j < row.cells.length; j++) {
                    var cell = newRow.insertCell(j);
                    cell.innerHTML = row.cells[j].innerHTML;
                }
                receiptTotal += parseFloat(row.cells[4].innerText);
            }
            document.getElementById('receiptTotal').innerText = receiptTotal.toFixed(2);
            document.getElementById('receipt').style.display = 'block';
        }

        function exportToExcel() {
            // Lógica para exportar para Excel
        }

        function importFromExcel(event) {
            // Lógica para importar de Excel
        }

        function sendOrder() {
            var orderDetails = document.getElementById('orderDetails').value;
            alert('Pedido enviado: ' + orderDetails);
        }
    </script>
</body>
</html>
